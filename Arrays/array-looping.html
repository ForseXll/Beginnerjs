<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>

    </title>
    <link rel="stylesheet" href="../../base.css">
</head>

<body>
    <h1>Ilya'a Header</h1>
    <p>Her mom had warned her. She had been warned time and again, but she had refused to believe her. She had done
        everything right and she knew she would be rewarded for doing so with the promotion. So when the promotion was
        given to her main rival, it not only stung, it threw her belief system into disarray. It was her first big
        lesson in life, but not the last.
    </p>
    <p>She wondered if the note had reached him. She scolded herself for not handing it to him in person. She trusted
        her friend, but so much could happen. She waited impatiently for word.</p>
    <p>The computer wouldn't start. She banged on the side and tried again. Nothing. She lifted it up and dropped it to
        the table. Still nothing. She banged her closed fist against the top. It was at this moment she saw the irony of
        trying to fix the machine with violence.</p>
    <script>
        const toppings = ['Mushrooms ', 'Tomatoes', 'Eggs', 'Chili', 'Lettuce', 'Avocado', 'Chiles', 'Bacon', 'Pickles', 'Onions', 'Cheese'];

        const students = [
            {
                id: '11ce',
                first_name: 'Dall',
                last_name: 'Puckring',
            },
            {
                id: '2958',
                first_name: 'Margarete',
                last_name: 'Brandi',
            },
            {
                id: '565a',
                first_name: 'Bendicty',
                last_name: 'Woodage',
            },
            {
                id: '3a16',
                first_name: 'Micki',
                last_name: 'Mattes',
            },
            {
                id: 'f396',
                first_name: 'Flory',
                last_name: 'Gladeche',
            },
            {
                id: 'de5f',
                first_name: 'Jamill',
                last_name: 'Emilien',
            },
            {
                id: '54cb',
                first_name: 'Brett',
                last_name: 'Aizikowitz',
            },
            {
                id: '9135',
                first_name: 'Lorry',
                last_name: 'Smallman',
            },
            {
                id: '978f',
                first_name: 'Gilly',
                last_name: 'Flott',
            },
        ];

        const people = [
            {
                birthday: 'April 22, 1993',
                names: {
                    first: 'Keith',
                    last: 'Buckley'
                }
            },
            {
                birthday: 'January 3, 1975',
                names: {
                    first: 'Larry',
                    last: 'Heep'
                }
            },
            {
                birthday: 'February 12, 1944',
                names: {
                    first: 'Linda',
                    last: 'Bermeer'
                }
            }
        ];


        const buns = ['egg', 'wonder', 'brioche'];

        const meats = {
            beyond: 10,
            beef: 5,
            pork: 7
        };

        const prices = {
            hotDog: 453,
            burger: 765,
            sausage: 634,
            corn: 234,
        };

        const orderTotals = [342, 1002, 523, 34, 634, 854, 1644, 2222];

        const feedback = [
            { comment: 'Love the burgs', rating: 4 },
            { comment: 'Horrible Service', rating: 2 },
            { comment: 'Smoothies are great, liked the burger too', rating: 5 },
            { comment: 'Ambiance needs work', rating: 3 },
            { comment: 'I DONT LIKE BURGERS', rating: 1 },
        ];

        const faces = ['😃', '🤠', '🤡', '🤑', '😵', '🌞', '🐶', '😺'];

        const inventory = [
            { type: 'shirt', price: 4000 },
            { type: 'pants', price: 4532 },
            { type: 'socks', price: 234 },
            { type: 'shirt', price: 2343 },
            { type: 'pants', price: 2343 },
            { type: 'socks', price: 542 },
            { type: 'pants', price: 123 },
        ];


        /*
          Looping Methods
        */

        function logs(event)
        {
            console.log(event);
        }

        faces.forEach(logs);
        toppings.forEach(logs);
        people.forEach(logs);

        console.clear();

        function logss(item, index, array)
        {
            const previtem = array[index - 1];
            const nextitem = array[index + 1];
            //log item from array
            console.log(item);
            //log the prev item
            previtem ? console.log("Previous Item: " + previtem) : null;
            //log next item
            nextitem ? console.log("Next item: " + nextitem) : null;
            //log last item
            if (nextitem == null)
            {
                console.log("Last item:  " + item);
                console.log("End of toppings, Later");
            }
        }

        toppings.forEach(logss);

        console.clear();

        //map, filter , reduce 👋

        function addhands(face)
        {
            return ` "!!!!" ${face} "!!!!"`;
        }

        const toys = faces.map(addhands);
        console.log(toys);

        function mine(name)
        {
            return `${name} Indik`;
        }

        function capitalize(word)
        {
            return `${word[0].toUpperCase()}${word.slice(1)}`;
        }

        const fullnames = ['ilya', 'ying', 'bot', 'bob']
            .map(capitalize)
            .map(mine);

        console.log(fullnames);

        const tax = orderTotals.map(total => total * 1.08);
        console.log(orderTotals);
        console.log(tax);

        const cleanup = people.map(person =>
        {
            console.log(person);
            //get theri birthday
            const birthday = new Date(person.birthday);
            console.log(birthday);
            //how old they are
            const date = new Date();
            console.log(birthday, date)
            const age = Math.floor((date - birthday) / 31536000000);
            console.log(age);
            //return their full name
            return {
                Age: age,
                Name: `${person.names.first} ${person.names.last}`,
            }

        });

        console.table(cleanup);

        //filter returns array
        //over age 30
        const old = cleanup.filter(person => person.Age > 30);
        if (old.length)
        {
            console.log("there are people over 30.");
        }
        console.table(old);
        console.clear();

        //find students
        const student = students.find(person => person.id === '565a');
        console.log(student);

        function findByProp(prop, whatWeLookingFor)
        {
            return function isStudent(student)
            {
                return student[prop] === whatWeLookingFor;
            }
        };

        const student1 = students.find(findByProp('id', 'f396'));
        const student2 = students.find(findByProp('first_name', 'Lorry'));
        console.log(student1);
        console.log(student2);

        console.clear();

        //reduce
        function counttotal(accumilator, currentValue)
        {
            console.log(`The current counter is ${accumilator}`)
            console.log(`The current value is ${currentValue}`)

            //return the current total
            return accumilator + currentValue;
        }

        const accumilate = orderTotals.reduce(counttotal, 0);


        function countinv(accumilator, item)
        {
            console.log(`Looping over items in shop ${item.type}`);
            //increment type by 1
            //hard coded to look for all items
            //accumilator.shirt = accumilator.shirt + 1 || 1;
            //individual look ups
            accumilator[item.type] = accumilator[item.type] + 1 || 1
            //return the totals, so next can loop
            return accumilator;
        }



        const amountStock = inventory.reduce(countinv, {});
        console.log(amountStock);

        //couting total inv price with reduce

        const totalInvPrice = inventory.reduce((count, item) => count + item.price, 0);
        console.log(totalInvPrice);



    </script>
</body>

</html>